

<!DOCTYPE html>
<html class="writer-html5" lang="fr" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>7.6 Exercices &mdash; Documentation Regu 0</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/togglebutton.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/togglebutton.js"></script>
        <script src="../../_static/clipboard.min.js"></script>
        <script src="../../_static/copybutton.js"></script>
        <script src="../../_static/translations.js"></script>
        <script >var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Recherche" href="../../search.html" />
    <link rel="next" title="Documentation de la librairie ReguLabFct" href="../../DocumentationFct.html" />
    <link rel="prev" title="7.4.6 Exercices" href="../7.4/7.4.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> Regu
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Rechercher docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../7.1/7.1.html">7.1.2 Exercices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../7.2/7.2.html">7.2.7 Exercices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../7.3/7.3.html">7.3.6 Exercices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../7.4/7.4.html">7.4.6 Exercices</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">7.6 Exercices</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#exercice-1">Exercice 1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#solution">Solution:</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id1">1.</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id2">2.</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id3">3.</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id4">4.</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id5">5.</a></li>
<li class="toctree-l4"><a class="reference internal" href="#determination-du-correcteur-pi">6. Détermination du correcteur PI:</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#exercice-2">Exercice 2</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id6">Solution:</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id7">1.</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id8">2.</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id9">3. Détermination du correcteur PI:</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#exercice-3">Exercice 3</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id10">Solution:</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id11">1.</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id12">2.</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id13">3.</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../DocumentationFct.html">Documentation de la librairie ReguLabFct</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Regu</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>7.6 Exercices</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/Final/7.6/7.6.rst.txt" rel="nofollow"> Afficher la source de la page</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="exercices">
<h1>7.6 Exercices<a class="headerlink" href="#exercices" title="Lien permanent vers ce titre">¶</a></h1>
<div class="section" id="exercice-1">
<h2>Exercice 1<a class="headerlink" href="#exercice-1" title="Lien permanent vers ce titre">¶</a></h2>
<p>Soit</p>
<!-- <img src="Images/7.6/Exercice1.png" width=400 height=400 /> --><img alt="Exercice1.png" class="align-center" src="../../_images/Exercice1.png" />
<p>On désire asservir le système dont les composants sont :
<span class="math notranslate nohighlight">\(R = 10 k\Omega\)</span> et <span class="math notranslate nohighlight">\(C = 100 nF\)</span> :</p>
<ol class="arabic simple">
<li><p>démontrer que la fonction de transfert s’écrit :
<span class="math notranslate nohighlight">\(G(p)=\frac{1}{(1+\tau*p)^2}\)</span> avec: <span class="math notranslate nohighlight">\(\tau = 1 ms\)</span></p></li>
<li><p>déterminer les paramètres de la réponse indicielle en boucle ouverte</p></li>
<li><p>déterminer les caractéristiques de la réponse en boucle fermée</p></li>
<li><p>déterminer par calculs le correcteur qui permettrait d’obtenir une
valeur de <span class="math notranslate nohighlight">\(\zeta=0.45\)</span> ; préciser quel intérêt il y a à choisir
cette valeur de <span class="math notranslate nohighlight">\(\zeta\)</span></p></li>
<li><p>déterminer graphiquement le correcteur proportionnel qui permettrait
d’assurer une marge de phase de 45° et donner les caractéristiques de
la réponse indicielle</p></li>
<li><p>déterminer le correcteur PI qui permettrait d’assurer une marge de
phase de 45° et préciser quel intérêt il propose par rapport au
correcteur précédent</p></li>
</ol>
<script type="text/javascript">
    function showhide(element){
        if (!document.getElementById)
            return

        if (element.style.display == "block")
            element.style.display = "none"
        else
            element.style.display = "block"
    };
</script>
<a href="javascript:showhide(document.getElementById('hiddencodeblock48'))">+ show/hide code</a><br /><div id="hiddencodeblock48" style="display: none"><div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span> <span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">Image</span><span class="p">,</span> <span class="n">display</span><span class="p">,</span> <span class="n">Markdown</span>

 <span class="kn">from</span> <span class="nn">control.matlab</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># Python Control Systems Toolbox (compatibility with MATLAB)</span>
 <span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>              <span class="c1"># Library to manipulate array and matrix</span>
 <span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span> <span class="c1"># Library to create figures and plots</span>
 <span class="kn">import</span> <span class="nn">math</span> <span class="c1"># Library to be able to do some mathematical operations</span>
 <span class="kn">import</span> <span class="nn">ReguLabFct</span> <span class="k">as</span> <span class="nn">rlf</span> <span class="c1"># Library useful for the laboratory of regulation of HELMo Gramme</span>
</pre></div>
</div>
</div><div class="section" id="solution">
<h3>Solution:<a class="headerlink" href="#solution" title="Lien permanent vers ce titre">¶</a></h3>
<div class="section" id="id1">
<h4>1.<a class="headerlink" href="#id1" title="Lien permanent vers ce titre">¶</a></h4>
<div class="math notranslate nohighlight">
\[G(p)={\frac{V_s(p)}{V_e(p)}}=(-\frac{R_2}{R_1}*\frac{1}{1+R_2*C_2*p})*(-\frac{R_4}{R_3}*\frac{1}{1+R_4*C_4*p})=\frac{1}{(1+\tau*p)^2}\]</div>
<div class="math notranslate nohighlight">
\[avec: \tau = RC = 10*10^3 * 100*10^{-9} = 1 ms\]</div>
</div>
<div class="section" id="id2">
<h4>2.<a class="headerlink" href="#id2" title="Lien permanent vers ce titre">¶</a></h4>
<p>Par identification avec un système du second ordre sous forme standard :</p>
<center><p><span class="math notranslate nohighlight">\(G_{BO}(p)=\frac{1}{10^{-6}*p^2+2*10^{-3}*p+1}\)</span> soit:
<span class="math notranslate nohighlight">\(\begin{cases} \omega_n=1000 rad/s\\ \zeta=1 \end{cases}\)</span></p>
</center><script type="text/javascript">
    function showhide(element){
        if (!document.getElementById)
            return

        if (element.style.display == "block")
            element.style.display = "none"
        else
            element.style.display = "block"
    };
</script>
<a href="javascript:showhide(document.getElementById('hiddencodeblock49'))">+ show/hide code</a><br /><div id="hiddencodeblock49" style="display: none"><div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span> <span class="n">Gbo</span> <span class="o">=</span> <span class="n">tf</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="mi">10</span><span class="o">**-</span><span class="mi">6</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="mi">10</span><span class="o">**-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>

 <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="s2">&quot;Step Response&quot;</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
 <span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>

 <span class="n">info</span> <span class="o">=</span> <span class="n">rlf</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>

 <span class="n">rlf</span><span class="o">.</span><span class="n">stepWithInfo</span><span class="p">(</span><span class="n">Gbo</span><span class="p">,</span> <span class="n">info</span><span class="p">,</span> <span class="n">NameOfFigure</span><span class="o">=</span><span class="s2">&quot;Step Response&quot;</span><span class="p">)</span>

 <span class="c1"># Calcul du coefficient d&#39;amortissement et pulsation naturelle</span>
 <span class="n">wn</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">poles</span> <span class="o">=</span> <span class="n">damp</span><span class="p">(</span><span class="n">Gbo</span><span class="p">,</span> <span class="n">doprint</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
 <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="sa">rf</span><span class="s2">&quot;La réponse indicielle est non-oscillante ($\zeta$=</span><span class="si">{</span><span class="n">z</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">) =&gt; pas de dépassement.&quot;</span><span class="p">))</span>

 <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="sa">rf</span><span class="s2">&quot;Temps de réponse à 5% = </span><span class="si">{</span><span class="n">info</span><span class="o">.</span><span class="n">SettlingTime</span><span class="o">*</span><span class="mi">1000</span><span class="si">:</span><span class="s2">.0f</span><span class="si">}</span><span class="s2">ms&quot;</span><span class="p">))</span>

 <span class="c1"># Calcul de l&#39;erreur statique</span>
 <span class="n">ep</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">info</span><span class="o">.</span><span class="n">DCGain</span><span class="p">)</span><span class="o">*</span><span class="mi">100</span>
 <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="sa">rf</span><span class="s2">&quot;Erreur statique = </span><span class="si">{</span><span class="n">ep</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div><p>La réponse indicielle est non-oscillante (<span class="math notranslate nohighlight">\(\zeta\)</span>=1.00) =&gt; pas
de dépassement.</p>
<p>Temps de réponse à 5% = 5ms</p>
<p>Erreur statique = 0.7%</p>
<img alt="../../_images/output_6_3.png" class="align-center" src="../../_images/output_6_3.png" />
<div class="admonition warning">
<p class="admonition-title">Avertissement</p>
<p>Attention: Ici, on cherche l’erreur d’un système en BO!</p>
</div>
</div>
<div class="section" id="id3">
<h4>3.<a class="headerlink" href="#id3" title="Lien permanent vers ce titre">¶</a></h4>
<p>Si on exprime la fonction de transfert en BF sous forme standard :</p>
<center><p><span class="math notranslate nohighlight">\(G_{BF}(p)={\frac {\frac{1}{2}}{1+10^{-3}*p+500*10^{-9}*p^2}}\)</span>
soit: <span class="math notranslate nohighlight">\(\begin{cases} \omega_n=1414 rad/s\\ \zeta=0.7 \end{cases}\)</span></p>
</center><script type="text/javascript">
    function showhide(element){
        if (!document.getElementById)
            return

        if (element.style.display == "block")
            element.style.display = "none"
        else
            element.style.display = "block"
    };
</script>
<a href="javascript:showhide(document.getElementById('hiddencodeblock50'))">+ show/hide code</a><br /><div id="hiddencodeblock50" style="display: none"><div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span> <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="s2">&quot;Step Response&quot;</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
 <span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>

 <span class="n">Gbo</span> <span class="o">=</span> <span class="n">tf</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="mi">10</span><span class="o">**-</span><span class="mi">6</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="mi">10</span><span class="o">**-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
 <span class="n">Gbf</span> <span class="o">=</span> <span class="n">feedback</span><span class="p">(</span><span class="n">Gbo</span><span class="p">)</span>

 <span class="n">info</span> <span class="o">=</span> <span class="n">rlf</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>

 <span class="n">rlf</span><span class="o">.</span><span class="n">stepWithInfo</span><span class="p">(</span><span class="n">Gbf</span><span class="p">,</span> <span class="n">info</span><span class="p">,</span> <span class="n">NameOfFigure</span><span class="o">=</span><span class="s2">&quot;Step Response&quot;</span><span class="p">)</span>

 <span class="c1"># Calcul du coefficient d&#39;amortissement et pulsation naturelle</span>
 <span class="n">wn</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">poles</span> <span class="o">=</span> <span class="n">damp</span><span class="p">(</span><span class="n">Gbf</span><span class="p">,</span> <span class="n">doprint</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
 <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="sa">rf</span><span class="s2">&quot;Par programmation, on obtient bien: $\zeta$=</span><span class="si">{</span><span class="n">z</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2"> et $\omega_n$=</span><span class="si">{</span><span class="n">wn</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">:</span><span class="s2">.0f</span><span class="si">}</span><span class="s2"> rad/s.&quot;</span><span class="p">))</span>

 <span class="c1"># Calcul de l&#39;erreur statique</span>
 <span class="n">ep</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">info</span><span class="o">.</span><span class="n">DCGain</span><span class="p">)</span><span class="o">*</span><span class="mi">100</span>
 <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Le gain statique est de </span><span class="si">{</span><span class="n">info</span><span class="o">.</span><span class="n">DCGain</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">&quot;</span><span class="sa">r</span><span class="s2">&quot; donc l&#39;erreur statique est de $\varepsilon_0=\frac</span><span class="si">{1}</span><span class="s2">{1+K}$=&quot;</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">ep</span><span class="si">:</span><span class="s2">.0f</span><span class="si">}</span><span class="s2">% (Classe(N)=DegréErreur(r)=0, K=1 en BO)&quot;</span><span class="p">))</span>

 <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;Le dépassement est de: $d=100*e^{\frac{-\pi*0.7}{\sqrt{1-0.7^2}}}$=&quot;</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">info</span><span class="o">.</span><span class="n">Overshoot</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">%&quot;</span><span class="sa">r</span><span class="s2">&quot; en $t=\frac{\pi}{1414*\sqrt{1-0.7^2}}$=&quot;</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">info</span><span class="o">.</span><span class="n">PeakTime</span><span class="o">*</span><span class="mi">1000</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">ms&quot;</span><span class="p">))</span>

 <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;Temps de réponse à 5</span><span class="si">% e</span><span class="s2">st de $\frac</span><span class="si">{3}</span><span class="s2">{\omega_n}$ = &quot;</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">info</span><span class="o">.</span><span class="n">SettlingTime</span><span class="o">*</span><span class="mi">1000</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">ms&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div><p>Par programmation, on obtient bien: <span class="math notranslate nohighlight">\(\zeta\)</span>=0.7 et
<span class="math notranslate nohighlight">\(\omega_n\)</span>=1414 rad/s.</p>
<p>Le gain statique est de 0.5 donc l’erreur statique est de
<span class="math notranslate nohighlight">\(\varepsilon_0=\frac{1}{1+K}\)</span>=50% (Classe(N)=DegréErreur(r)=0,
K=1 en BO)</p>
<p>Le dépassement est de:
<span class="math notranslate nohighlight">\(d=100*e^{\frac{-\pi*0.7}{\sqrt{1-0.7^2}}}\)</span>=4.5% en
<span class="math notranslate nohighlight">\(t=\frac{\pi}{1414*\sqrt{1-0.7^2}}\)</span>=3.1ms</p>
<p>Temps de réponse à 5% est de <span class="math notranslate nohighlight">\(\frac{3}{\omega_n}\)</span> = 2.066ms</p>
<img alt="../../_images/output_9_4.png" class="align-center" src="../../_images/output_9_4.png" />
</div>
<div class="section" id="id4">
<h4>4.<a class="headerlink" href="#id4" title="Lien permanent vers ce titre">¶</a></h4>
<p>Soit la fonction en BO qui devient :</p>
<div class="math notranslate nohighlight">
\[G_{BO}(p)=K*\frac{1}{1+2*10^{-3}*p+10^{-6}*p^2}\]</div>
<p>Ce qui donne en BF:</p>
<div class="math notranslate nohighlight">
\[G_{BF}(p)=\frac{\frac{K}{K+1}}{1+\frac{2*10^{-3}}{K+1}*p+\frac{10^{-6}}{K+1}*p^2}\]</div>
<p>Par identification, on a:</p>
<center><p><span class="math notranslate nohighlight">\(\begin{cases} \zeta = 0.45\\ \frac{2\zeta}{\omega_n}=\frac{2*10^{-3}}{K+1}\\ \frac{1}{\omega_n^2}=\frac{10^{-6}}{K+1} \end{cases}\)</span></p>
</center><p>D’où</p>
<center><p><span class="math notranslate nohighlight">\(\begin{cases} \zeta=0.45\\ K=3.938=11.9 dB\\ \omega_n=2222 rad/s \end{cases}\)</span></p>
</center><script type="text/javascript">
    function showhide(element){
        if (!document.getElementById)
            return

        if (element.style.display == "block")
            element.style.display = "none"
        else
            element.style.display = "block"
    };
</script>
<a href="javascript:showhide(document.getElementById('hiddencodeblock51'))">+ show/hide code</a><br /><div id="hiddencodeblock51" style="display: none"><div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span> <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="s2">&quot;Step Response&quot;</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
 <span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>

 <span class="n">Gbo</span> <span class="o">=</span> <span class="n">tf</span><span class="p">(</span><span class="mf">3.938</span><span class="p">,</span> <span class="p">[</span><span class="mi">10</span><span class="o">**-</span><span class="mi">6</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="mi">10</span><span class="o">**-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
 <span class="n">Gbf</span> <span class="o">=</span> <span class="n">feedback</span><span class="p">(</span><span class="n">Gbo</span><span class="p">)</span>

 <span class="n">info</span> <span class="o">=</span> <span class="n">rlf</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>

 <span class="n">rlf</span><span class="o">.</span><span class="n">stepWithInfo</span><span class="p">(</span><span class="n">Gbf</span><span class="p">,</span> <span class="n">info</span><span class="p">,</span> <span class="n">NameOfFigure</span><span class="o">=</span><span class="s2">&quot;Step Response&quot;</span><span class="p">)</span>

 <span class="c1"># Calcul du coefficient d&#39;amortissement et pulsation naturelle</span>
 <span class="n">wn</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">poles</span> <span class="o">=</span> <span class="n">damp</span><span class="p">(</span><span class="n">Gbf</span><span class="p">,</span> <span class="n">doprint</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
 <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="sa">rf</span><span class="s2">&quot;Par programmation, on obtient bien: $\zeta$=</span><span class="si">{</span><span class="n">z</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> et $\omega_n$=</span><span class="si">{</span><span class="n">wn</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">:</span><span class="s2">.0f</span><span class="si">}</span><span class="s2"> rad/s.&quot;</span><span class="p">))</span>

 <span class="c1"># Calcul de l&#39;erreur statique</span>
 <span class="n">ep</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">info</span><span class="o">.</span><span class="n">DCGain</span><span class="p">)</span><span class="o">*</span><span class="mi">100</span>
 <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Le gain statique est de </span><span class="si">{</span><span class="n">info</span><span class="o">.</span><span class="n">DCGain</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">&quot;</span><span class="sa">r</span><span class="s2">&quot; donc l&#39;erreur statique est de $\varepsilon_0=\frac</span><span class="si">{1}</span><span class="s2">{1+K}$=&quot;</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">ep</span><span class="si">:</span><span class="s2">.0f</span><span class="si">}</span><span class="s2">% (car N=r=0, K=3.94 en BO).&quot;</span><span class="p">))</span>

 <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="s2">&quot;L&#39;intrérêt de choisir un $\zeta$ de 0.45 permet d&#39;avoir un système présentant le meilleur compromis: temps de réponse/dépassement (stabilité).&quot;</span><span class="p">))</span>

 <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;Le dépassement est de: $d=100*e^{\frac{-\pi*0.7}{\sqrt{1-0.7^2}}}$=&quot;</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">info</span><span class="o">.</span><span class="n">Overshoot</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">%&quot;</span><span class="sa">r</span><span class="s2">&quot; en $t=\frac{\pi}{1414*\sqrt{1-0.7^2}}$=&quot;</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">info</span><span class="o">.</span><span class="n">PeakTime</span><span class="o">*</span><span class="mi">1000</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">ms&quot;</span><span class="p">))</span>

 <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;Temps de réponse à 5</span><span class="si">% e</span><span class="s2">st de $\frac</span><span class="si">{3}</span><span class="s2">{\omega_0}$ = &quot;</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">info</span><span class="o">.</span><span class="n">SettlingTime</span><span class="o">*</span><span class="mi">1000</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">ms&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div><p>Par programmation, on obtient bien: <span class="math notranslate nohighlight">\(\zeta\)</span>=0.45 et
<span class="math notranslate nohighlight">\(\omega_n\)</span>=2222 rad/s.</p>
<p>Le gain statique est de 0.8 donc l’erreur statique est de
<span class="math notranslate nohighlight">\(\varepsilon_0=\frac{1}{1+K}\)</span>=20% (car N=r=0, K=3.94 en BO).</p>
<p>L’intrérêt de choisir un <span class="math notranslate nohighlight">\(\zeta\)</span> de 0.45 permet d’avoir un système
présentant le meilleur compromis: temps de réponse/dépassement
(stabilité).</p>
<p>Le dépassement est de:
<span class="math notranslate nohighlight">\(d=100*e^{\frac{-\pi*0.7}{\sqrt{1-0.7^2}}}\)</span>=20.6% en
<span class="math notranslate nohighlight">\(t=\frac{\pi}{1414*\sqrt{1-0.7^2}}\)</span>=1.6ms</p>
<p>Temps de réponse à 5% est de <span class="math notranslate nohighlight">\(\frac{3}{\omega_0}\)</span> = 2.364ms</p>
<img alt="../../_images/output_11_5.png" class="align-center" src="../../_images/output_11_5.png" />
</div>
<div class="section" id="id5">
<h4>5.<a class="headerlink" href="#id5" title="Lien permanent vers ce titre">¶</a></h4>
<script type="text/javascript">
    function showhide(element){
        if (!document.getElementById)
            return

        if (element.style.display == "block")
            element.style.display = "none"
        else
            element.style.display = "block"
    };
</script>
<a href="javascript:showhide(document.getElementById('hiddencodeblock52'))">+ show/hide code</a><br /><div id="hiddencodeblock52" style="display: none"><div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span> <span class="n">Gbo</span> <span class="o">=</span> <span class="n">tf</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="mi">10</span><span class="o">**-</span><span class="mi">6</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="mi">10</span><span class="o">**-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>

 <span class="n">MP</span> <span class="o">=</span> <span class="mi">45</span>

 <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="s2">&quot;Bode&quot;</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
 <span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
 <span class="n">mag</span><span class="p">,</span> <span class="n">w</span> <span class="o">=</span> <span class="n">rlf</span><span class="o">.</span><span class="n">getValues</span><span class="p">(</span><span class="n">Gbo</span><span class="p">,</span> <span class="o">-</span><span class="mi">180</span><span class="o">+</span><span class="n">MP</span><span class="p">,</span> <span class="n">printValue</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">NameOfFigure</span><span class="o">=</span><span class="s2">&quot;Bode&quot;</span><span class="p">)</span>

 <span class="n">Kp</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="n">mag</span>  <span class="c1"># Donne directement la valeur de l&#39;amplitude =&gt; Pas besoin de la convertir à partir d&#39;une valeur en dB + Kp va à l&#39;inverse de ce qu&#39;on mesure</span>

 <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;Graphiquement, on relève que pour $\varphi=-135°$, $M_</span><span class="si">{dB}</span><span class="s2">$ =&quot;</span><span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="mi">20</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">mag</span><span class="p">)</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2"> dB.&quot;</span><span class="p">))</span>
 <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;On choisira un correcteur P: $K_p$ =&quot;</span><span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="o">-</span><span class="mi">20</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">mag</span><span class="p">)</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2"> dB = </span><span class="si">{</span><span class="n">Kp</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div><p>Graphiquement, on relève que pour <span class="math notranslate nohighlight">\(\varphi=-135°\)</span>, <span class="math notranslate nohighlight">\(M_{dB}\)</span>
= -16.7 dB.</p>
<p>On choisira un correcteur P: <span class="math notranslate nohighlight">\(K_p\)</span> = 16.7 dB = 6.82.</p>
<img alt="../../_images/output_13_2.png" class="align-center" src="../../_images/output_13_2.png" />
<script type="text/javascript">
    function showhide(element){
        if (!document.getElementById)
            return

        if (element.style.display == "block")
            element.style.display = "none"
        else
            element.style.display = "block"
    };
</script>
<a href="javascript:showhide(document.getElementById('hiddencodeblock53'))">+ show/hide code</a><br /><div id="hiddencodeblock53" style="display: none"><div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span> <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="s2">&quot;Nichols&quot;</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
 <span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
 <span class="n">rlf</span><span class="o">.</span><span class="n">nichols</span><span class="p">(</span><span class="n">Gbo</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;G(p)&#39;</span><span class="p">],</span> <span class="n">NameOfFigure</span> <span class="o">=</span> <span class="s2">&quot;Nichols&quot;</span><span class="p">)</span>
 <span class="n">rlf</span><span class="o">.</span><span class="n">nichols</span><span class="p">(</span><span class="n">Kp</span><span class="o">*</span><span class="n">Gbo</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Kp*G(p)&#39;</span><span class="p">],</span> <span class="n">NameOfFigure</span> <span class="o">=</span> <span class="s2">&quot;Nichols&quot;</span><span class="p">,</span> <span class="n">linestyle</span> <span class="o">=</span> <span class="s1">&#39;-.&#39;</span><span class="p">)</span>
 <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="o">-</span><span class="mi">180</span><span class="o">+</span><span class="n">MP</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="s1">&#39;k+&#39;</span><span class="p">);</span> <span class="c1"># ; pour supprimer les lignes de sortie matplotlib</span>
 <span class="n">ax</span><span class="o">.</span><span class="n">arrow</span><span class="p">(</span><span class="o">-</span><span class="mi">180</span><span class="o">+</span><span class="n">MP</span><span class="p">,</span> <span class="mi">20</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">mag</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">20</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">mag</span><span class="p">)</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span>
          <span class="n">length_includes_head</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mf">.05</span><span class="p">,</span> <span class="n">head_width</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">head_length</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">);</span>

 <span class="c1"># Vérification de la marge de phase du sys</span>
 <span class="n">gm</span><span class="p">,</span> <span class="n">pm</span><span class="p">,</span> <span class="n">wg</span><span class="p">,</span> <span class="n">wp</span> <span class="o">=</span> <span class="n">margin</span><span class="p">(</span><span class="n">Kp</span><span class="o">*</span><span class="n">Gbo</span><span class="p">)</span> <span class="c1"># Extract the gain margin (Gm) and the phase margin (Pm)</span>
 <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Marge de phase du système corrigé = </span><span class="si">{:.1f}</span><span class="s2">°.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">pm</span><span class="p">))</span>
</pre></div>
</div>
</div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Marge de phase du système corrigé = 45.0°.
</pre></div>
</div>
<img alt="../../_images/output_14_12.png" class="align-center" src="../../_images/output_14_12.png" />
<script type="text/javascript">
    function showhide(element){
        if (!document.getElementById)
            return

        if (element.style.display == "block")
            element.style.display = "none"
        else
            element.style.display = "block"
    };
</script>
<a href="javascript:showhide(document.getElementById('hiddencodeblock54'))">+ show/hide code</a><br /><div id="hiddencodeblock54" style="display: none"><div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span> <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="s2">&quot;Step Response&quot;</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
 <span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>

 <span class="n">Gbo</span> <span class="o">=</span> <span class="n">tf</span><span class="p">(</span><span class="n">Kp</span><span class="p">,</span> <span class="p">[</span><span class="mi">10</span><span class="o">**-</span><span class="mi">6</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="mi">10</span><span class="o">**-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
 <span class="n">Gbf</span> <span class="o">=</span> <span class="n">feedback</span><span class="p">(</span><span class="n">Gbo</span><span class="p">)</span>

 <span class="n">info</span> <span class="o">=</span> <span class="n">rlf</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>

 <span class="n">rlf</span><span class="o">.</span><span class="n">stepWithInfo</span><span class="p">(</span><span class="n">Gbf</span><span class="p">,</span> <span class="n">info</span><span class="p">,</span> <span class="n">NameOfFigure</span><span class="o">=</span><span class="s2">&quot;Step Response&quot;</span><span class="p">)</span>

 <span class="c1"># Calcul du coefficient d&#39;amortissement et pulsation naturelle</span>
 <span class="n">wn</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">poles</span> <span class="o">=</span> <span class="n">damp</span><span class="p">(</span><span class="n">Gbf</span><span class="p">,</span> <span class="n">doprint</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
 <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="sa">rf</span><span class="s2">&quot;Les paramètres du système du second ordre deviennent : $\zeta$=</span><span class="si">{</span><span class="n">z</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> et $\omega_n$=</span><span class="si">{</span><span class="n">wn</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">:</span><span class="s2">.0f</span><span class="si">}</span><span class="s2"> rad/s.&quot;</span><span class="p">))</span>

 <span class="c1"># Calcul de l&#39;erreur statique</span>
 <span class="n">ep</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">info</span><span class="o">.</span><span class="n">DCGain</span><span class="p">)</span><span class="o">*</span><span class="mi">100</span>
 <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;L&#39;erreur statique est de $\varepsilon_0=\frac</span><span class="si">{1}</span><span class="s2">{1+K}$=&quot;</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">ep</span><span class="si">:</span><span class="s2">.0f</span><span class="si">}</span><span class="s2">% (N=r=0, K=6.82 en BO)&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div><p>Les paramètres du système du second ordre deviennent :
<span class="math notranslate nohighlight">\(\zeta\)</span>=0.36 et <span class="math notranslate nohighlight">\(\omega_n\)</span>=2797 rad/s.</p>
<p>L’erreur statique est de <span class="math notranslate nohighlight">\(\varepsilon_0=\frac{1}{1+K}\)</span>=13%
(N=r=0, K=6.82 en BO)</p>
<img alt="../../_images/output_15_2.png" class="align-center" src="../../_images/output_15_2.png" />
</div>
<div class="section" id="determination-du-correcteur-pi">
<h4>6. Détermination du correcteur PI:<a class="headerlink" href="#determination-du-correcteur-pi" title="Lien permanent vers ce titre">¶</a></h4>
<ul>
<li><p>Constante de temps d’intégration : <span class="math notranslate nohighlight">\(\tau_I = 1ms\)</span> (suppression
d’un pôle)</p>
<p>le système devient, en BO :
<span class="math notranslate nohighlight">\(G_{BO}(p)=\frac{K_P}{10^{-3}*p*(1+10^{-3}*p)}\)</span></p>
</li>
</ul>
<script type="text/javascript">
    function showhide(element){
        if (!document.getElementById)
            return

        if (element.style.display == "block")
            element.style.display = "none"
        else
            element.style.display = "block"
    };
</script>
<a href="javascript:showhide(document.getElementById('hiddencodeblock55'))">+ show/hide code</a><br /><div id="hiddencodeblock55" style="display: none"><div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span> <span class="n">G</span> <span class="o">=</span> <span class="n">tf</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="mi">10</span><span class="o">**-</span><span class="mi">6</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="mi">10</span><span class="o">**-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
 <span class="n">tI</span> <span class="o">=</span> <span class="mf">0.001</span>
 <span class="n">Corr</span> <span class="o">=</span> <span class="n">tf</span><span class="p">([</span><span class="n">tI</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="n">tI</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span> <span class="c1"># Correcteur avec Kp = 1</span>
 <span class="n">Gbo</span> <span class="o">=</span> <span class="n">Corr</span><span class="o">*</span><span class="n">G</span>

 <span class="n">MP</span> <span class="o">=</span> <span class="mi">45</span>

 <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="s2">&quot;Bode&quot;</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
 <span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
 <span class="n">mag</span><span class="p">,</span> <span class="n">w</span> <span class="o">=</span> <span class="n">rlf</span><span class="o">.</span><span class="n">getValues</span><span class="p">(</span><span class="n">Gbo</span><span class="p">,</span> <span class="o">-</span><span class="mi">180</span><span class="o">+</span><span class="n">MP</span><span class="p">,</span> <span class="n">printValue</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">NameOfFigure</span><span class="o">=</span><span class="s2">&quot;Bode&quot;</span><span class="p">)</span>

 <span class="n">Kp</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="n">mag</span>  <span class="c1"># Donne directement la valeur de l&#39;amplitude =&gt; Pas besoin de la convertir à partir d&#39;une valeur en dB + Kp va à l&#39;inverse de ce qu&#39;on mesure</span>

 <span class="n">Corr</span> <span class="o">=</span> <span class="n">Kp</span><span class="o">*</span><span class="n">tf</span><span class="p">([</span><span class="n">tI</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="n">tI</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span> <span class="c1"># Correcteur avec le bon Kp</span>
 <span class="n">Gbo</span> <span class="o">=</span> <span class="n">Corr</span><span class="o">*</span><span class="n">G</span>

 <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;- On calcule : $\varphi$ = &quot;</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="o">-</span><span class="mi">180</span><span class="o">+</span><span class="n">MP</span><span class="si">}</span><span class="s2">° pour&quot;</span><span class="sa">r</span><span class="s2">&quot; $\omega$ = &quot;</span><span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="n">w</span><span class="si">:</span><span class="s2">.0f</span><span class="si">}</span><span class="s2"> rad/s ce qui correspond à &quot;</span><span class="sa">r</span><span class="s2">&quot;$M_</span><span class="si">{dB}</span><span class="s2">$ =&quot;</span><span class="sa">f</span><span class="s2">&quot;&quot;&quot; </span><span class="si">{</span><span class="mi">20</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">mag</span><span class="p">)</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2"> dB.</span>

<span class="s2">     On choisira un correcteur P: &quot;&quot;&quot;</span><span class="sa">r</span><span class="s2">&quot;$K_p$ =&quot;</span><span class="sa">f</span><span class="s2">&quot;&quot;&quot; </span><span class="si">{</span><span class="o">-</span><span class="mi">20</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">mag</span><span class="p">)</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2"> dB = </span><span class="si">{</span><span class="n">Kp</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">.</span>

<span class="s2">     soit le correcteur : &quot;&quot;&quot;</span><span class="sa">r</span><span class="s2">&quot;$C(p)=\frac{1416*(1+10^{-3}*p)}</span><span class="si">{p}</span><span class="s2">$&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div><ul>
<li><p>On calcule : <span class="math notranslate nohighlight">\(\varphi\)</span> = -135° pour <span class="math notranslate nohighlight">\(\omega\)</span> = 1001 rad/s
ce qui correspond à <span class="math notranslate nohighlight">\(M_{dB}\)</span> = -3.0 dB.</p>
<p>On choisira un correcteur P: <span class="math notranslate nohighlight">\(K_p\)</span> = 3.0 dB = 1.416.</p>
<p>soit le correcteur : <span class="math notranslate nohighlight">\(C(p)=\frac{1416*(1+10^{-3}*p)}{p}\)</span></p>
</li>
</ul>
<img alt="../../_images/output_17_11.png" class="align-center" src="../../_images/output_17_11.png" />
<script type="text/javascript">
    function showhide(element){
        if (!document.getElementById)
            return

        if (element.style.display == "block")
            element.style.display = "none"
        else
            element.style.display = "block"
    };
</script>
<a href="javascript:showhide(document.getElementById('hiddencodeblock56'))">+ show/hide code</a><br /><div id="hiddencodeblock56" style="display: none"><div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span> <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="s2">&quot;Nichols&quot;</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
 <span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
 <span class="n">rlf</span><span class="o">.</span><span class="n">nichols</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;G(p)&#39;</span><span class="p">],</span> <span class="n">NameOfFigure</span> <span class="o">=</span> <span class="s2">&quot;Nichols&quot;</span><span class="p">)</span>
 <span class="n">frequencies</span> <span class="o">=</span> <span class="n">linspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">100000</span><span class="p">,</span> <span class="mi">100000</span><span class="p">)</span>
 <span class="n">rlf</span><span class="o">.</span><span class="n">nichols</span><span class="p">(</span><span class="n">Gbo</span><span class="p">,</span> <span class="n">omega</span><span class="o">=</span><span class="n">frequencies</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;C(p)*G(p)&#39;</span><span class="p">],</span> <span class="n">NameOfFigure</span> <span class="o">=</span> <span class="s2">&quot;Nichols&quot;</span><span class="p">,</span> <span class="n">linestyle</span> <span class="o">=</span> <span class="s1">&#39;-.&#39;</span><span class="p">)</span>
 <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="o">-</span><span class="mi">180</span><span class="o">+</span><span class="n">MP</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="s1">&#39;k+&#39;</span><span class="p">);</span> <span class="c1"># ; pour supprimer les lignes de sortie matplotlib</span>
</pre></div>
</div>
</div><img alt="../../_images/output_18_0.png" class="align-center" src="../../_images/output_18_0.png" />
<p>L’erreur statique est de <span class="math notranslate nohighlight">\(\varepsilon_0=0\)</span> (r=0 mais N=1 grâce au
correcteur I).</p>
</div>
</div>
</div>
<div class="section" id="exercice-2">
<h2>Exercice 2<a class="headerlink" href="#exercice-2" title="Lien permanent vers ce titre">¶</a></h2>
<p>Soit un ampli op (sans compensation interne en fréquence) dont la
fonction de transfert en BO est donnée par :</p>
<center><p><span class="math notranslate nohighlight">\(G(jf)=\frac{A_0}{(1+j\frac{f}{f_1})*(1+j\frac{f}{f_2})}\)</span> avec:
<span class="math notranslate nohighlight">\(\begin{cases} A_0 = 10^2\\ f_1 = 1 MHz\\ f_2 = 10 MHz \end{cases}\)</span></p>
</center><p>On vous demande de:</p>
<ol class="arabic simple">
<li><p>analyser le diagramme de Black-Nichols qui vous est donné pour en
déduire les caractéristiques du système en BF</p></li>
</ol>
<!-- <img src="Images/7.6/Exercice2_Nichols.png" width=800 height=800 /> --><img alt="Exercice2_Nichols.png" class="align-center" src="../../_images/Exercice2_Nichols.png" />
<ol class="arabic simple" start="2">
<li><p>déterminer le correcteur proportionnel qui permettrait d’assurer une
marge de phase de 45° et donner les caractéristiques de la réponse
indicielle</p></li>
<li><p>déterminer le correcteur PI qui permettrait d’assurer une marge de
phase de 45° et préciser quel intérêt il propose par rapport au
correcteur précédent</p></li>
</ol>
<div class="section" id="id6">
<h3>Solution:<a class="headerlink" href="#id6" title="Lien permanent vers ce titre">¶</a></h3>
<div class="section" id="id7">
<h4>1.<a class="headerlink" href="#id7" title="Lien permanent vers ce titre">¶</a></h4>
<p>Le système ne présente pas une marge de phase insuffisante : 20°</p>
<p>En boucle fermée : - son gain statique est de 0 dB - le facteur de
surtension est de 10 dB</p>
<p>⇒ la réponse temporelle présentera une forte oscillation</p>
<script type="text/javascript">
    function showhide(element){
        if (!document.getElementById)
            return

        if (element.style.display == "block")
            element.style.display = "none"
        else
            element.style.display = "block"
    };
</script>
<a href="javascript:showhide(document.getElementById('hiddencodeblock57'))">+ show/hide code</a><br /><div id="hiddencodeblock57" style="display: none"><div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span> <span class="n">A_0</span> <span class="o">=</span> <span class="mi">10</span><span class="o">**</span><span class="mi">2</span>
 <span class="n">f1</span> <span class="o">=</span> <span class="mi">10</span><span class="o">**</span><span class="mi">6</span>
 <span class="n">f2</span> <span class="o">=</span> <span class="mi">10</span><span class="o">**</span><span class="mi">7</span>

 <span class="n">Gbo</span> <span class="o">=</span> <span class="n">A_0</span><span class="o">*</span><span class="n">tf</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="o">/</span><span class="n">f1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span><span class="o">*</span><span class="n">tf</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="o">/</span><span class="n">f2</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
 <span class="n">Gbf</span><span class="o">=</span><span class="n">feedback</span><span class="p">(</span><span class="n">Gbo</span><span class="p">)</span>

 <span class="n">info</span> <span class="o">=</span> <span class="n">rlf</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>

 <span class="n">T</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">2.5</span><span class="o">*</span><span class="mi">10</span><span class="o">**</span><span class="p">(</span><span class="o">-</span><span class="mi">6</span><span class="p">),</span> <span class="mi">1000</span><span class="p">)</span>
 <span class="n">yout</span><span class="p">,</span> <span class="n">T</span> <span class="o">=</span> <span class="n">step</span><span class="p">(</span><span class="n">Gbf</span><span class="p">,</span> <span class="n">T</span><span class="p">)</span>

 <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="s2">&quot;Step Response&quot;</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
 <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">yout</span><span class="p">)</span>
 <span class="n">rlf</span><span class="o">.</span><span class="n">step_info</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">yout</span><span class="p">,</span> <span class="n">info</span><span class="p">)</span> <span class="c1"># Rajoute les points intéressants au graphe</span>

 <span class="c1"># Calcul de l&#39;erreur statique</span>
 <span class="n">ep</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">info</span><span class="o">.</span><span class="n">DCGain</span><span class="p">)</span><span class="o">*</span><span class="mi">100</span>
 <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;L&#39;erreur statique est de $\varepsilon_0=\frac</span><span class="si">{1}</span><span class="s2">{1+K}$=&quot;</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">ep</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">% (N=r=0, K=100 en BO)&quot;</span><span class="p">))</span>

 <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Temps de réponse à 5% = </span><span class="si">{</span><span class="n">info</span><span class="o">.</span><span class="n">SettlingTime</span><span class="o">*</span><span class="mi">10</span><span class="o">**</span><span class="mi">9</span><span class="si">:</span><span class="s2">.0f</span><span class="si">}</span><span class="s2"> ns&quot;</span><span class="p">))</span>

 <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Le dépassement est de: d=&quot;</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">info</span><span class="o">.</span><span class="n">Overshoot</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">% en t = </span><span class="si">{</span><span class="n">info</span><span class="o">.</span><span class="n">PeakTime</span><span class="o">*</span><span class="mi">10</span><span class="o">**</span><span class="mi">9</span><span class="si">:</span><span class="s2">.0f</span><span class="si">}</span><span class="s2"> ns&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div><p>L’erreur statique est de <span class="math notranslate nohighlight">\(\varepsilon_0=\frac{1}{1+K}\)</span>=0.990%
(N=r=0, K=100 en BO)</p>
<p>Temps de réponse à 5% = 523 ns</p>
<p>Le dépassement est de: d=57.6% en t = 100 ns</p>
<img alt="../../_images/output_23_3.png" class="align-center" src="../../_images/output_23_3.png" />
</div>
<div class="section" id="id8">
<h4>2.<a class="headerlink" href="#id8" title="Lien permanent vers ce titre">¶</a></h4>
<script type="text/javascript">
    function showhide(element){
        if (!document.getElementById)
            return

        if (element.style.display == "block")
            element.style.display = "none"
        else
            element.style.display = "block"
    };
</script>
<a href="javascript:showhide(document.getElementById('hiddencodeblock58'))">+ show/hide code</a><br /><div id="hiddencodeblock58" style="display: none"><div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span> <span class="n">MP</span> <span class="o">=</span> <span class="mi">45</span>

 <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="s2">&quot;Bode&quot;</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
 <span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
 <span class="n">mag</span><span class="p">,</span> <span class="n">w</span> <span class="o">=</span> <span class="n">rlf</span><span class="o">.</span><span class="n">getValues</span><span class="p">(</span><span class="n">Gbo</span><span class="p">,</span> <span class="o">-</span><span class="mi">180</span><span class="o">+</span><span class="n">MP</span><span class="p">,</span> <span class="n">printValue</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">NameOfFigure</span><span class="o">=</span><span class="s2">&quot;Bode&quot;</span><span class="p">)</span>

 <span class="n">Kp</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="n">mag</span>  <span class="c1"># Donne directement la valeur de l&#39;amplitude =&gt; Pas besoin de la convertir à partir d&#39;une valeur en dB + Kp va à l&#39;inverse de ce qu&#39;on mesure</span>

 <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;Graphiquement, on relève que pour $\varphi=-135°$, $M_</span><span class="si">{dB}</span><span class="s2">$ =&quot;</span><span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="mi">20</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">mag</span><span class="p">)</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2"> dB.&quot;</span><span class="p">))</span>
 <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;On choisira un correcteur P: $K_p$ =&quot;</span><span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="o">-</span><span class="mi">20</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">mag</span><span class="p">)</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2"> dB = </span><span class="si">{</span><span class="n">Kp</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div><p>Graphiquement, on relève que pour <span class="math notranslate nohighlight">\(\varphi=-135°\)</span>, <span class="math notranslate nohighlight">\(M_{dB}\)</span>
= 14.7 dB.</p>
<p>On choisira un correcteur P: <span class="math notranslate nohighlight">\(K_p\)</span> = -14.7 dB = 0.185.</p>
<img alt="../../_images/output_25_21.png" class="align-center" src="../../_images/output_25_21.png" />
<script type="text/javascript">
    function showhide(element){
        if (!document.getElementById)
            return

        if (element.style.display == "block")
            element.style.display = "none"
        else
            element.style.display = "block"
    };
</script>
<a href="javascript:showhide(document.getElementById('hiddencodeblock59'))">+ show/hide code</a><br /><div id="hiddencodeblock59" style="display: none"><div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span> <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="s2">&quot;Nichols&quot;</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
 <span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
 <span class="n">nichols</span><span class="p">(</span><span class="n">Gbo</span><span class="p">,</span> <span class="n">grid</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
 <span class="n">rlf</span><span class="o">.</span><span class="n">nichols</span><span class="p">(</span><span class="n">Kp</span><span class="o">*</span><span class="n">Gbo</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Kp*Gbo(p)&#39;</span><span class="p">],</span> <span class="n">NameOfFigure</span> <span class="o">=</span> <span class="s2">&quot;Nichols&quot;</span><span class="p">)</span>

 <span class="c1"># Vérification de la marge de phase du sys</span>
 <span class="n">gm</span><span class="p">,</span> <span class="n">pm</span><span class="p">,</span> <span class="n">wg</span><span class="p">,</span> <span class="n">wp</span> <span class="o">=</span> <span class="n">margin</span><span class="p">(</span><span class="n">Kp</span><span class="o">*</span><span class="n">Gbo</span><span class="p">)</span> <span class="c1"># Extract the gain margin (Gm) and the phase margin (Pm)</span>
 <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Marge de phase du système corrigé = </span><span class="si">{:.1f}</span><span class="s2">°.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">pm</span><span class="p">))</span>
 <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="o">-</span><span class="mi">180</span><span class="o">+</span><span class="n">MP</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="s1">&#39;k+&#39;</span><span class="p">);</span> <span class="c1"># ; pour supprimer les lignes de sortie matplotlib</span>
 <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="o">-</span><span class="mi">180</span><span class="o">+</span><span class="n">pm</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="s1">&#39;ko&#39;</span><span class="p">);</span> <span class="c1"># ; pour supprimer les lignes de sortie matplotlib</span>
</pre></div>
</div>
</div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Marge de phase du système corrigé = 45.0°.
</pre></div>
</div>
<img alt="../../_images/output_26_1.png" class="align-center" src="../../_images/output_26_1.png" />
<script type="text/javascript">
    function showhide(element){
        if (!document.getElementById)
            return

        if (element.style.display == "block")
            element.style.display = "none"
        else
            element.style.display = "block"
    };
</script>
<a href="javascript:showhide(document.getElementById('hiddencodeblock60'))">+ show/hide code</a><br /><div id="hiddencodeblock60" style="display: none"><div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span> <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="s2">&quot;Step Response&quot;</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
 <span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>

 <span class="n">Gbf</span><span class="o">=</span><span class="n">feedback</span><span class="p">(</span><span class="n">Kp</span><span class="o">*</span><span class="n">Gbo</span><span class="p">)</span>

 <span class="n">info</span> <span class="o">=</span> <span class="n">rlf</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>

 <span class="n">T</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">2.5</span><span class="o">*</span><span class="mi">10</span><span class="o">**</span><span class="p">(</span><span class="o">-</span><span class="mi">6</span><span class="p">),</span> <span class="mi">1000</span><span class="p">)</span>
 <span class="n">yout</span><span class="p">,</span> <span class="n">T</span> <span class="o">=</span> <span class="n">step</span><span class="p">(</span><span class="n">Gbf</span><span class="p">,</span> <span class="n">T</span><span class="p">)</span>

 <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="s2">&quot;Step Response&quot;</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
 <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">yout</span><span class="p">)</span>
 <span class="n">rlf</span><span class="o">.</span><span class="n">step_info</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">yout</span><span class="p">,</span> <span class="n">info</span><span class="p">)</span> <span class="c1"># Rajoute les points intéressants au graphe</span>

 <span class="c1"># Calcul du coefficient d&#39;amortissement et pulsation naturelle</span>
 <span class="n">wn</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">poles</span> <span class="o">=</span> <span class="n">damp</span><span class="p">(</span><span class="n">Gbf</span><span class="p">,</span> <span class="n">doprint</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
 <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;Les paramètres du système du second ordre deviennent: $\omega_n$ =&quot;</span><span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="n">wn</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">:</span><span class="s2">.2e</span><span class="si">}</span><span class="s2"> rad/s et&quot;</span><span class="sa">r</span><span class="s2">&quot; $\zeta$ &quot;</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">z</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">))</span>

 <span class="c1"># Calcul de l&#39;erreur statique</span>
 <span class="n">ep</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">info</span><span class="o">.</span><span class="n">DCGain</span><span class="p">)</span><span class="o">*</span><span class="mi">100</span>
 <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;L&#39;erreur statique est de $\varepsilon_0=\frac</span><span class="si">{1}</span><span class="s2">{1+K}$=&quot;</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">ep</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">% (N=r=0, K=18.5 en BO)&quot;</span><span class="p">))</span>

 <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Le dépassement est de: d=&quot;</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">info</span><span class="o">.</span><span class="n">Overshoot</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">% en t = </span><span class="si">{</span><span class="n">info</span><span class="o">.</span><span class="n">PeakTime</span><span class="o">*</span><span class="mi">10</span><span class="o">**</span><span class="mi">9</span><span class="si">:</span><span class="s2">.0f</span><span class="si">}</span><span class="s2"> ns&quot;</span><span class="p">))</span>

 <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Temps de réponse à 5% = </span><span class="si">{</span><span class="n">info</span><span class="o">.</span><span class="n">SettlingTime</span><span class="o">*</span><span class="mi">10</span><span class="o">**</span><span class="mi">9</span><span class="si">:</span><span class="s2">.0f</span><span class="si">}</span><span class="s2"> ns &quot;</span><span class="sa">r</span><span class="s2">&quot;($\approx\frac</span><span class="si">{8}</span><span class="s2">{\omega_n}$)&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div><p>Les paramètres du système du second ordre deviennent: <span class="math notranslate nohighlight">\(\omega_n\)</span> =
1.39e+07 rad/s et <span class="math notranslate nohighlight">\(\zeta\)</span> 0.394.</p>
<p>L’erreur statique est de <span class="math notranslate nohighlight">\(\varepsilon_0=\frac{1}{1+K}\)</span>=5.1%
(N=r=0, K=18.5 en BO)</p>
<p>Le dépassement est de: d=26.0% en t = 245 ns</p>
<p>Temps de réponse à 5% = 548 ns (<span class="math notranslate nohighlight">\(\approx\frac{8}{\omega_n}\)</span>)</p>
<img alt="../../_images/output_27_4.png" class="align-center" src="../../_images/output_27_4.png" />
</div>
<div class="section" id="id9">
<h4>3. Détermination du correcteur PI:<a class="headerlink" href="#id9" title="Lien permanent vers ce titre">¶</a></h4>
<ul>
<li><p>Constante de temps d’intégration :
<span class="math notranslate nohighlight">\(\tau_I = \frac{1}{2\pi*10^6} = 159 ns\)</span> (suppression du pôle
dominant)</p>
<p>le système devient, en BO :
<span class="math notranslate nohighlight">\(G_{BO}(p)=\frac{100*K_p}{159*10^{-9}*p*(1+159*10^{-9}*p)}\)</span></p>
</li>
</ul>
<script type="text/javascript">
    function showhide(element){
        if (!document.getElementById)
            return

        if (element.style.display == "block")
            element.style.display = "none"
        else
            element.style.display = "block"
    };
</script>
<a href="javascript:showhide(document.getElementById('hiddencodeblock61'))">+ show/hide code</a><br /><div id="hiddencodeblock61" style="display: none"><div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span> <span class="n">G</span> <span class="o">=</span> <span class="n">A_0</span><span class="o">*</span><span class="n">tf</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="n">f1</span><span class="p">),</span> <span class="mi">1</span><span class="p">])</span><span class="o">*</span><span class="n">tf</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="n">f2</span><span class="p">),</span> <span class="mi">1</span><span class="p">])</span>
 <span class="n">tI</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="mi">10</span><span class="o">**</span><span class="mi">6</span><span class="p">)</span>
 <span class="n">Corr</span> <span class="o">=</span> <span class="n">tf</span><span class="p">([</span><span class="n">tI</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="n">tI</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span> <span class="c1"># Correcteur avec Kp = 1</span>
 <span class="n">Gbo</span> <span class="o">=</span> <span class="n">Corr</span><span class="o">*</span><span class="n">G</span>

 <span class="n">MP</span> <span class="o">=</span> <span class="mi">45</span>

 <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="s2">&quot;Bode&quot;</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
 <span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
 <span class="n">mag</span><span class="p">,</span> <span class="n">w</span> <span class="o">=</span> <span class="n">rlf</span><span class="o">.</span><span class="n">getValues</span><span class="p">(</span><span class="n">Gbo</span><span class="p">,</span> <span class="o">-</span><span class="mi">180</span><span class="o">+</span><span class="n">MP</span><span class="p">,</span> <span class="n">printValue</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">NameOfFigure</span><span class="o">=</span><span class="s2">&quot;Bode&quot;</span><span class="p">)</span>

 <span class="n">Kp</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="n">mag</span>  <span class="c1"># Donne directement la valeur de l&#39;amplitude =&gt; Pas besoin de la convertir à partir d&#39;une valeur en dB + Kp va à l&#39;inverse de ce qu&#39;on mesure</span>

 <span class="n">Corr</span> <span class="o">=</span> <span class="n">tf</span><span class="p">([</span><span class="n">tI</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="n">tI</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span> <span class="c1"># Correcteur avec le bon Kp</span>
 <span class="n">Gbo</span> <span class="o">=</span> <span class="n">Kp</span><span class="o">*</span><span class="n">Corr</span><span class="o">*</span><span class="n">G</span>

 <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;- On calcule : $\varphi$ = &quot;</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="o">-</span><span class="mi">180</span><span class="o">+</span><span class="n">MP</span><span class="si">}</span><span class="s2">° pour&quot;</span><span class="sa">r</span><span class="s2">&quot; $\omega$ = &quot;</span><span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="n">w</span><span class="si">:</span><span class="s2">.2e</span><span class="si">}</span><span class="s2"> rad/s ce qui correspond à &quot;</span><span class="sa">r</span><span class="s2">&quot;$M_</span><span class="si">{dB}</span><span class="s2">$ =&quot;</span><span class="sa">f</span><span class="s2">&quot;&quot;&quot; </span><span class="si">{</span><span class="mi">20</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">mag</span><span class="p">)</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2"> dB.</span>

<span class="s2">     On choisira un correcteur P: &quot;&quot;&quot;</span><span class="sa">r</span><span class="s2">&quot;$K_p$ =&quot;</span><span class="sa">f</span><span class="s2">&quot;&quot;&quot; </span><span class="si">{</span><span class="o">-</span><span class="mi">20</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">mag</span><span class="p">)</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2"> dB = </span><span class="si">{</span><span class="n">Kp</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">.</span>

<span class="s2">     soit le correcteur : &quot;&quot;&quot;</span><span class="sa">r</span><span class="s2">&quot;&quot;&quot;$C(p)=\frac{888*10^3*(1+159.2*10^{-9}*p)}</span><span class="si">{p}</span><span class="s2">$</span>

<span class="s2">     qui s&#39;écrit : $C(jf)=\frac{141.4*10^3*(1+j\frac</span><span class="si">{f}</span><span class="s2">{10^</span><span class="si">{6}</span><span class="s2">})}</span><span class="si">{jf}</span><span class="s2">$&quot;&quot;&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div><ul>
<li><p>On calcule : <span class="math notranslate nohighlight">\(\varphi\)</span> = -135° pour <span class="math notranslate nohighlight">\(\omega\)</span> = 6.28e+07
rad/s ce qui correspond à <span class="math notranslate nohighlight">\(M_{dB}\)</span> = 17.0 dB.</p>
<p>On choisira un correcteur P: <span class="math notranslate nohighlight">\(K_p\)</span> = -17.0 dB = 0.1413.</p>
<p>soit le correcteur :
<span class="math notranslate nohighlight">\(C(p)=\frac{888*10^3*(1+159.2*10^{-9}*p)}{p}\)</span></p>
<p>qui s’écrit :
<span class="math notranslate nohighlight">\(C(jf)=\frac{141.4*10^3*(1+j\frac{f}{10^{6}})}{jf}\)</span></p>
</li>
</ul>
<img alt="../../_images/output_30_11.png" class="align-center" src="../../_images/output_30_11.png" />
<script type="text/javascript">
    function showhide(element){
        if (!document.getElementById)
            return

        if (element.style.display == "block")
            element.style.display = "none"
        else
            element.style.display = "block"
    };
</script>
<a href="javascript:showhide(document.getElementById('hiddencodeblock62'))">+ show/hide code</a><br /><div id="hiddencodeblock62" style="display: none"><div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span> <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="s2">&quot;Nichols&quot;</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
 <span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
 <span class="n">frequencies</span> <span class="o">=</span> <span class="n">linspace</span><span class="p">(</span><span class="mi">10</span><span class="o">**</span><span class="mi">6</span><span class="p">,</span> <span class="mi">10</span><span class="o">**</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="o">**</span><span class="mi">4</span><span class="p">)</span> <span class="c1"># Pour pouvoir tracer les points qui nous intéressent</span>
 <span class="n">rlf</span><span class="o">.</span><span class="n">nichols</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">omega</span><span class="o">=</span><span class="n">frequencies</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Gbo(p)&#39;</span><span class="p">],</span> <span class="n">NameOfFigure</span> <span class="o">=</span> <span class="s2">&quot;Nichols&quot;</span><span class="p">)</span>
 <span class="n">rlf</span><span class="o">.</span><span class="n">nichols</span><span class="p">(</span><span class="n">Corr</span><span class="o">*</span><span class="n">G</span><span class="p">,</span> <span class="n">omega</span><span class="o">=</span><span class="n">frequencies</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;C_I(p)*Gbo(p)&#39;</span><span class="p">],</span> <span class="n">NameOfFigure</span> <span class="o">=</span> <span class="s2">&quot;Nichols&quot;</span><span class="p">,</span> <span class="n">linestyle</span> <span class="o">=</span> <span class="s1">&#39;-.&#39;</span><span class="p">)</span>
 <span class="n">rlf</span><span class="o">.</span><span class="n">nichols</span><span class="p">(</span><span class="n">Gbo</span><span class="p">,</span> <span class="n">omega</span><span class="o">=</span><span class="n">frequencies</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;C_PI(p)*Gbo(p)&#39;</span><span class="p">],</span> <span class="n">NameOfFigure</span> <span class="o">=</span> <span class="s2">&quot;Nichols&quot;</span><span class="p">,</span> <span class="n">linestyle</span> <span class="o">=</span> <span class="s1">&#39;--&#39;</span><span class="p">)</span>
 <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="o">-</span><span class="mi">180</span><span class="o">+</span><span class="n">MP</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="s1">&#39;k+&#39;</span><span class="p">);</span> <span class="c1"># ; pour supprimer les lignes de sortie matplotlib</span>
</pre></div>
</div>
</div><img alt="../../_images/output_31_0.png" class="align-center" src="../../_images/output_31_0.png" />
</div>
</div>
</div>
<div class="section" id="exercice-3">
<h2>Exercice 3<a class="headerlink" href="#exercice-3" title="Lien permanent vers ce titre">¶</a></h2>
<p>Soit un amplificateur dont la fonction de transfert en BO est donnée par
:</p>
<div class="math notranslate nohighlight">
\[G(p)=\frac{10}{(1+p)*(1+0.1p)}\]</div>
<p>On vous demande de:</p>
<ol class="arabic simple">
<li><p>analyser le diagramme de Black-Nichols qui vous est donné</p></li>
</ol>
<img alt="Exercice3_Nichols.png" class="align-center" src="../../_images/Exercice3_Nichols.png" />
<!-- <img src="Images/7.6/Exercice3_Nichols.png" width=800 height=800 /> --><ol class="arabic simple" start="2">
<li><p>déterminer les caractéristiques de la réponse indicielle en BF</p></li>
<li><p>déterminer le correcteur P, PI ou PID qui permettrait d’assurer une
marge de phase de 45°, une erreur statique la plus faible possible et
d’obtenir un temps de réponse à 5% de 0,1 s</p></li>
</ol>
<div class="section" id="id10">
<h3>Solution:<a class="headerlink" href="#id10" title="Lien permanent vers ce titre">¶</a></h3>
<div class="section" id="id11">
<h4>1.<a class="headerlink" href="#id11" title="Lien permanent vers ce titre">¶</a></h4>
<p>Le système présente une marge de phase de 60°</p>
</div>
<div class="section" id="id12">
<h4>2.<a class="headerlink" href="#id12" title="Lien permanent vers ce titre">¶</a></h4>
<p>Si on exprime la fonction de transfert en BF sous forme standard :</p>
<center><p><span class="math notranslate nohighlight">\(G_{BF}(p)=\frac{\frac{10}{11}}{\frac{0.1}{11}p^2+\frac{1.1}{11}p+1}\)</span>
soit:
<span class="math notranslate nohighlight">\(\begin{cases} \omega_n = 10.5 rad/s\\ \zeta = 0.52\\ \end{cases}\)</span></p>
</center><script type="text/javascript">
    function showhide(element){
        if (!document.getElementById)
            return

        if (element.style.display == "block")
            element.style.display = "none"
        else
            element.style.display = "block"
    };
</script>
<a href="javascript:showhide(document.getElementById('hiddencodeblock63'))">+ show/hide code</a><br /><div id="hiddencodeblock63" style="display: none"><div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span> <span class="n">G</span> <span class="o">=</span> <span class="n">tf</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span><span class="o">*</span><span class="n">tf</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
 <span class="n">Gbo</span> <span class="o">=</span> <span class="n">G</span>
 <span class="n">Gbf</span> <span class="o">=</span> <span class="n">feedback</span><span class="p">(</span><span class="n">Gbo</span><span class="p">)</span>

 <span class="n">info</span> <span class="o">=</span> <span class="n">rlf</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>

 <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="s2">&quot;Step Response&quot;</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
 <span class="n">rlf</span><span class="o">.</span><span class="n">stepWithInfo</span><span class="p">(</span><span class="n">Gbf</span><span class="p">,</span> <span class="n">info</span><span class="p">,</span> <span class="n">NameOfFigure</span> <span class="o">=</span> <span class="s2">&quot;Step Response&quot;</span><span class="p">)</span>

 <span class="c1"># Calcul du coefficient d&#39;amortissement et pulsation naturelle</span>
 <span class="n">wn</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">poles</span> <span class="o">=</span> <span class="n">damp</span><span class="p">(</span><span class="n">Gbf</span><span class="p">,</span> <span class="n">doprint</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
 <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="sa">rf</span><span class="s2">&quot;Par programmation, on obtient bien: $\omega_n$=</span><span class="si">{</span><span class="n">wn</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2"> rad/s et $\zeta$=</span><span class="si">{</span><span class="n">z</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">))</span>
 <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Gbf = &quot;</span><span class="p">,</span> <span class="n">Gbf</span><span class="p">)</span>

 <span class="c1"># Calcul de l&#39;erreur statique</span>
 <span class="n">ep</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">info</span><span class="o">.</span><span class="n">DCGain</span><span class="p">)</span><span class="o">*</span><span class="mi">100</span>
 <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;L&#39;erreur statique est de $\varepsilon_0=\frac</span><span class="si">{1}</span><span class="s2">{1+K}$ = &quot;</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">ep</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">% (N=r=0, K=10 en BO)&quot;</span><span class="p">))</span>

 <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;Le dépassement est de: d = $100*e^{{\frac{-\pi*0.52}{\sqrt{1-0.52^2}}}}$ = &quot;</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">info</span><span class="o">.</span><span class="n">Overshoot</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">%&quot;</span><span class="sa">r</span><span class="s2">&quot; en t = $\frac{\pi}{10.5*\sqrt{1-0.52^2}}$ = &quot;</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">info</span><span class="o">.</span><span class="n">PeakTime</span><span class="o">*</span><span class="mi">10</span><span class="o">**</span><span class="mi">3</span><span class="si">:</span><span class="s2">.0f</span><span class="si">}</span><span class="s2"> ms&quot;</span><span class="p">))</span>

 <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;Le temps de réponse à 5</span><span class="si">% e</span><span class="s2">st de $\frac</span><span class="si">{5}</span><span class="s2">{\omega_n}$ = &quot;</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">info</span><span class="o">.</span><span class="n">SettlingTime</span><span class="o">*</span><span class="mi">10</span><span class="o">**</span><span class="mi">3</span><span class="si">:</span><span class="s2">.0f</span><span class="si">}</span><span class="s2"> ms (&gt;0.1s demandée)&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div><p>Par programmation, on obtient bien: <span class="math notranslate nohighlight">\(\omega_n\)</span>=10.5 rad/s et
<span class="math notranslate nohighlight">\(\zeta\)</span>=0.52.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Gbf</span> <span class="o">=</span>
         <span class="mi">10</span>
<span class="o">--------------------</span>
<span class="mf">0.1</span> <span class="n">s</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="mf">1.1</span> <span class="n">s</span> <span class="o">+</span> <span class="mi">11</span>
</pre></div>
</div>
<p>L’erreur statique est de <span class="math notranslate nohighlight">\(\varepsilon_0=\frac{1}{1+K}\)</span> = 9.073%
(N=r=0, K=10 en BO)</p>
<p>Le dépassement est de: d =
<span class="math notranslate nohighlight">\(100*e^{{\frac{-\pi*0.52}{\sqrt{1-0.52^2}}}}\)</span> = 14.4% en t =
<span class="math notranslate nohighlight">\(\frac{\pi}{10.5*\sqrt{1-0.52^2}}\)</span> = 352 ms</p>
<p>Le temps de réponse à 5% est de <span class="math notranslate nohighlight">\(\frac{5}{\omega_n}\)</span> = 505 ms
(&gt;0.1s demandée)</p>
<img alt="../../_images/output_36_5.png" class="align-center" src="../../_images/output_36_5.png" />
</div>
<div class="section" id="id13">
<h4>3.<a class="headerlink" href="#id13" title="Lien permanent vers ce titre">¶</a></h4>
<div class="section" id="a-correcteur-p">
<h5>a) Correcteur P<a class="headerlink" href="#a-correcteur-p" title="Lien permanent vers ce titre">¶</a></h5>
<script type="text/javascript">
    function showhide(element){
        if (!document.getElementById)
            return

        if (element.style.display == "block")
            element.style.display = "none"
        else
            element.style.display = "block"
    };
</script>
<a href="javascript:showhide(document.getElementById('hiddencodeblock64'))">+ show/hide code</a><br /><div id="hiddencodeblock64" style="display: none"><div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span> <span class="n">MP</span> <span class="o">=</span> <span class="mi">45</span>

 <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="s2">&quot;Bode&quot;</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
 <span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
 <span class="n">mag</span><span class="p">,</span> <span class="n">w</span> <span class="o">=</span> <span class="n">rlf</span><span class="o">.</span><span class="n">getValues</span><span class="p">(</span><span class="n">Gbo</span><span class="p">,</span> <span class="o">-</span><span class="mi">180</span><span class="o">+</span><span class="n">MP</span><span class="p">,</span> <span class="n">printValue</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">NameOfFigure</span><span class="o">=</span><span class="s2">&quot;Bode&quot;</span><span class="p">)</span>

 <span class="n">Kp</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="n">mag</span>  <span class="c1"># Donne directement la valeur de l&#39;amplitude =&gt; Pas besoin de la convertir à partir d&#39;une valeur en dB + Kp va à l&#39;inverse de ce qu&#39;on mesure</span>

 <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;Graphiquement, on relève que pour $\varphi=-135°$, $M_</span><span class="si">{dB}</span><span class="s2">$ =&quot;</span><span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="mi">20</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">mag</span><span class="p">)</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2"> dB.&quot;</span><span class="p">))</span>
 <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;On choisira un correcteur P: $K_p$ =&quot;</span><span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="o">-</span><span class="mi">20</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">mag</span><span class="p">)</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2"> dB = </span><span class="si">{</span><span class="n">Kp</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div><p>Graphiquement, on relève que pour <span class="math notranslate nohighlight">\(\varphi=-135°\)</span>, <span class="math notranslate nohighlight">\(M_{dB}\)</span>
= -5.3 dB.</p>
<p>On choisira un correcteur P: <span class="math notranslate nohighlight">\(K_p\)</span> = 5.3 dB = 1.843.</p>
<img alt="../../_images/output_38_2.png" class="align-center" src="../../_images/output_38_2.png" />
<script type="text/javascript">
    function showhide(element){
        if (!document.getElementById)
            return

        if (element.style.display == "block")
            element.style.display = "none"
        else
            element.style.display = "block"
    };
</script>
<a href="javascript:showhide(document.getElementById('hiddencodeblock65'))">+ show/hide code</a><br /><div id="hiddencodeblock65" style="display: none"><div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span> <span class="n">Gbo</span> <span class="o">=</span> <span class="n">Kp</span><span class="o">*</span><span class="n">G</span>
 <span class="n">Gbf_P</span> <span class="o">=</span> <span class="n">feedback</span><span class="p">(</span><span class="n">Gbo</span><span class="p">)</span>

 <span class="n">info</span> <span class="o">=</span> <span class="n">rlf</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>

 <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="s2">&quot;Step Response&quot;</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
 <span class="n">rlf</span><span class="o">.</span><span class="n">step_</span><span class="p">(</span><span class="n">Gbf</span><span class="p">,</span> <span class="n">NameOfFigure</span> <span class="o">=</span> <span class="s2">&quot;Step Response&quot;</span><span class="p">,</span> <span class="n">sysName</span> <span class="o">=</span> <span class="s1">&#39;Gbf&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">)</span>
 <span class="n">rlf</span><span class="o">.</span><span class="n">stepWithInfo</span><span class="p">(</span><span class="n">Gbf_P</span><span class="p">,</span> <span class="n">info</span><span class="p">,</span> <span class="n">NameOfFigure</span> <span class="o">=</span> <span class="s2">&quot;Step Response&quot;</span><span class="p">,</span>  <span class="n">sysName</span> <span class="o">=</span> <span class="s1">&#39;Kp*Gbf&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-.&#39;</span><span class="p">)</span>

 <span class="c1"># Calcul du coefficient d&#39;amortissement et pulsation naturelle</span>
 <span class="n">wn</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">poles</span> <span class="o">=</span> <span class="n">damp</span><span class="p">(</span><span class="n">Gbf_P</span><span class="p">,</span> <span class="n">doprint</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
 <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;Les paramètres du système du second ordre deviennent: $\omega_n$ =&quot;</span><span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="n">wn</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2"> rad/s et&quot;</span><span class="sa">r</span><span class="s2">&quot; $\zeta$ &quot;</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">z</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">))</span>

 <span class="c1"># Calcul de l&#39;erreur statique</span>
 <span class="n">ep</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">info</span><span class="o">.</span><span class="n">DCGain</span><span class="p">)</span><span class="o">*</span><span class="mi">100</span>
 <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;L&#39;erreur statique est de $\varepsilon_0=\frac</span><span class="si">{1}</span><span class="s2">{1+K}$ = &quot;</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">ep</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">% (N=r=0, K=18.43 en BO)&quot;</span><span class="p">))</span>

 <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;Le dépassement est de: d = &quot;</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">info</span><span class="o">.</span><span class="n">Overshoot</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">%&quot;</span><span class="sa">r</span><span class="s2">&quot; (= $100*e^{{\frac{-\pi*0.4}{\sqrt{1-0.4^2}}}}$) en t = &quot;</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">info</span><span class="o">.</span><span class="n">PeakTime</span><span class="o">*</span><span class="mi">10</span><span class="o">**</span><span class="mi">3</span><span class="si">:</span><span class="s2">.0f</span><span class="si">}</span><span class="s2"> ms&quot;</span><span class="sa">r</span><span class="s2">&quot; (= $\frac{\pi}{13.9*\sqrt{1-0.4^2}}$)&quot;</span><span class="p">))</span>

 <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;Le temps de réponse à 5</span><span class="si">% e</span><span class="s2">st de &quot;</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">info</span><span class="o">.</span><span class="n">SettlingTime</span><span class="o">*</span><span class="mi">10</span><span class="o">**</span><span class="mi">3</span><span class="si">:</span><span class="s2">.0f</span><span class="si">}</span><span class="s2"> ms (&quot;</span><span class="sa">r</span><span class="s2">&quot; $\approx\frac</span><span class="si">{8}</span><span class="s2">{\omega_n}$) (&gt;0.1s demandée)&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div><p>Les paramètres du système du second ordre deviennent: <span class="math notranslate nohighlight">\(\omega_n\)</span> =
13.9 rad/s et <span class="math notranslate nohighlight">\(\zeta\)</span> 0.395.</p>
<p>L’erreur statique est de <span class="math notranslate nohighlight">\(\varepsilon_0=\frac{1}{1+K}\)</span> = 5.1%
(N=r=0, K=18.43 en BO)</p>
<p>Le dépassement est de: d = 25.8% (=
<span class="math notranslate nohighlight">\(100*e^{{\frac{-\pi*0.4}{\sqrt{1-0.4^2}}}}\)</span>) en t = 245 ms (=
<span class="math notranslate nohighlight">\(\frac{\pi}{13.9*\sqrt{1-0.4^2}}\)</span>)</p>
<p>Le temps de réponse à 5% est de 551 ms (
<span class="math notranslate nohighlight">\(\approx\frac{8}{\omega_n}\)</span>) (&gt;0.1s demandée)</p>
<img alt="../../_images/output_39_4.png" class="align-center" src="../../_images/output_39_4.png" />
</div>
<div class="section" id="b-correcteur-pi">
<h5>b) Correcteur PI<a class="headerlink" href="#b-correcteur-pi" title="Lien permanent vers ce titre">¶</a></h5>
<ul>
<li><p>Constante de temps d’intégration : <span class="math notranslate nohighlight">\(\tau_I = 1 s\)</span> (suppression
du pôle dominant)</p>
<p>le système devient, en BO :
<span class="math notranslate nohighlight">\(G_{BO}(p)=\frac{10*K_p}{p*(1+0.1*p)}\)</span></p>
</li>
</ul>
<script type="text/javascript">
    function showhide(element){
        if (!document.getElementById)
            return

        if (element.style.display == "block")
            element.style.display = "none"
        else
            element.style.display = "block"
    };
</script>
<a href="javascript:showhide(document.getElementById('hiddencodeblock66'))">+ show/hide code</a><br /><div id="hiddencodeblock66" style="display: none"><div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span> <span class="n">tI</span> <span class="o">=</span> <span class="mi">1</span>
 <span class="n">Corr</span> <span class="o">=</span> <span class="n">tf</span><span class="p">([</span><span class="n">tI</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="n">tI</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span> <span class="c1"># Correcteur avec Kp = 1</span>
 <span class="n">Gbo</span> <span class="o">=</span> <span class="n">Corr</span><span class="o">*</span><span class="n">G</span>

 <span class="n">MP</span> <span class="o">=</span> <span class="mi">45</span>

 <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="s2">&quot;Bode&quot;</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
 <span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
 <span class="n">mag</span><span class="p">,</span> <span class="n">w</span> <span class="o">=</span> <span class="n">rlf</span><span class="o">.</span><span class="n">getValues</span><span class="p">(</span><span class="n">Gbo</span><span class="p">,</span> <span class="o">-</span><span class="mi">180</span><span class="o">+</span><span class="n">MP</span><span class="p">,</span> <span class="n">printValue</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">NameOfFigure</span><span class="o">=</span><span class="s2">&quot;Bode&quot;</span><span class="p">)</span>

 <span class="n">Kp</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="n">mag</span>  <span class="c1"># Donne directement la valeur de l&#39;amplitude =&gt; Pas besoin de la convertir à partir d&#39;une valeur en dB + Kp va à l&#39;inverse de ce qu&#39;on mesure</span>

 <span class="n">Corr</span> <span class="o">=</span> <span class="n">tf</span><span class="p">([</span><span class="n">tI</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="n">tI</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span> <span class="c1"># Correcteur avec le bon Kp</span>
 <span class="n">Gbo</span> <span class="o">=</span> <span class="n">Kp</span><span class="o">*</span><span class="n">Corr</span><span class="o">*</span><span class="n">G</span>

 <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;- On calcule : $\varphi$ = &quot;</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="o">-</span><span class="mi">180</span><span class="o">+</span><span class="n">MP</span><span class="si">}</span><span class="s2">° pour&quot;</span><span class="sa">r</span><span class="s2">&quot; $\omega$ = &quot;</span><span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="n">w</span><span class="si">:</span><span class="s2">.0f</span><span class="si">}</span><span class="s2"> rad/s ce qui correspond à &quot;</span><span class="sa">r</span><span class="s2">&quot;$M_</span><span class="si">{dB}</span><span class="s2">$ =&quot;</span><span class="sa">f</span><span class="s2">&quot;&quot;&quot; </span><span class="si">{</span><span class="mi">20</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">mag</span><span class="p">)</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2"> dB.</span>

<span class="s2">     On choisira un correcteur P: &quot;&quot;&quot;</span><span class="sa">r</span><span class="s2">&quot;$K_p$ =&quot;</span><span class="sa">f</span><span class="s2">&quot;&quot;&quot; </span><span class="si">{</span><span class="o">-</span><span class="mi">20</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">mag</span><span class="p">)</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2"> dB = </span><span class="si">{</span><span class="n">Kp</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">.</span>

<span class="s2">     soit le correcteur : &quot;&quot;&quot;</span><span class="sa">r</span><span class="s2">&quot;$C(p)=\frac{1.41*(1+p)}</span><span class="si">{p}</span><span class="s2">$&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div><ul>
<li><p>On calcule : <span class="math notranslate nohighlight">\(\varphi\)</span> = -135° pour <span class="math notranslate nohighlight">\(\omega\)</span> = 10 rad/s
ce qui correspond à <span class="math notranslate nohighlight">\(M_{dB}\)</span> = -3.0 dB.</p>
<p>On choisira un correcteur P: <span class="math notranslate nohighlight">\(K_p\)</span> = 3.0 dB = 1.41.</p>
<p>soit le correcteur : <span class="math notranslate nohighlight">\(C(p)=\frac{1.41*(1+p)}{p}\)</span></p>
</li>
</ul>
<img alt="../../_images/output_42_1.png" class="align-center" src="../../_images/output_42_1.png" />
<script type="text/javascript">
    function showhide(element){
        if (!document.getElementById)
            return

        if (element.style.display == "block")
            element.style.display = "none"
        else
            element.style.display = "block"
    };
</script>
<a href="javascript:showhide(document.getElementById('hiddencodeblock67'))">+ show/hide code</a><br /><div id="hiddencodeblock67" style="display: none"><div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span> <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="s2">&quot;Nichols&quot;</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
 <span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
 <span class="n">rlf</span><span class="o">.</span><span class="n">nichols</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Gbo(p)&#39;</span><span class="p">],</span> <span class="n">NameOfFigure</span> <span class="o">=</span> <span class="s2">&quot;Nichols&quot;</span><span class="p">)</span>
 <span class="n">rlf</span><span class="o">.</span><span class="n">nichols</span><span class="p">(</span><span class="n">Corr</span><span class="o">*</span><span class="n">G</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;C_I(p)*Gbo(p)&#39;</span><span class="p">],</span> <span class="n">NameOfFigure</span> <span class="o">=</span> <span class="s2">&quot;Nichols&quot;</span><span class="p">,</span> <span class="n">linestyle</span> <span class="o">=</span> <span class="s1">&#39;-.&#39;</span><span class="p">)</span>
 <span class="n">rlf</span><span class="o">.</span><span class="n">nichols</span><span class="p">(</span><span class="n">Gbo</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;C_PI(p)*Gbo(p)&#39;</span><span class="p">],</span> <span class="n">NameOfFigure</span> <span class="o">=</span> <span class="s2">&quot;Nichols&quot;</span><span class="p">,</span> <span class="n">linestyle</span> <span class="o">=</span> <span class="s1">&#39;--&#39;</span><span class="p">)</span>
 <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="o">-</span><span class="mi">180</span><span class="o">+</span><span class="n">MP</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="s1">&#39;k+&#39;</span><span class="p">);</span> <span class="c1"># ; pour supprimer les lignes de sortie matplotlib</span>
</pre></div>
</div>
</div><img alt="../../_images/output_43_0.png" class="align-center" src="../../_images/output_43_0.png" />
<script type="text/javascript">
    function showhide(element){
        if (!document.getElementById)
            return

        if (element.style.display == "block")
            element.style.display = "none"
        else
            element.style.display = "block"
    };
</script>
<a href="javascript:showhide(document.getElementById('hiddencodeblock68'))">+ show/hide code</a><br /><div id="hiddencodeblock68" style="display: none"><div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span> <span class="n">Gbf_PI</span> <span class="o">=</span> <span class="n">feedback</span><span class="p">(</span><span class="n">Gbo</span><span class="p">)</span>

 <span class="n">info</span> <span class="o">=</span> <span class="n">rlf</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>

 <span class="n">t</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">1.35</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span> <span class="c1"># Pour bien voir la phase transitoire</span>
 <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="s2">&quot;Step Response&quot;</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
 <span class="n">rlf</span><span class="o">.</span><span class="n">step_</span><span class="p">(</span><span class="n">Gbf</span><span class="p">,</span> <span class="n">T</span><span class="o">=</span><span class="n">t</span><span class="p">,</span> <span class="n">NameOfFigure</span> <span class="o">=</span> <span class="s2">&quot;Step Response&quot;</span><span class="p">,</span> <span class="n">sysName</span> <span class="o">=</span> <span class="s1">&#39;Gbf&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">)</span>
 <span class="n">rlf</span><span class="o">.</span><span class="n">step_</span><span class="p">(</span><span class="n">Gbf_P</span><span class="p">,</span> <span class="n">T</span><span class="o">=</span><span class="n">t</span><span class="p">,</span> <span class="n">NameOfFigure</span> <span class="o">=</span> <span class="s2">&quot;Step Response&quot;</span><span class="p">,</span>  <span class="n">sysName</span> <span class="o">=</span> <span class="s1">&#39;Kp*Gbf&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-.&#39;</span><span class="p">)</span>
 <span class="n">rlf</span><span class="o">.</span><span class="n">stepWithInfo</span><span class="p">(</span><span class="n">Gbf_PI</span><span class="p">,</span> <span class="n">info</span><span class="p">,</span> <span class="n">T</span><span class="o">=</span><span class="n">t</span><span class="p">,</span> <span class="n">NameOfFigure</span> <span class="o">=</span> <span class="s2">&quot;Step Response&quot;</span><span class="p">,</span>  <span class="n">sysName</span> <span class="o">=</span> <span class="s1">&#39;C_PI*Gbf&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">)</span>

 <span class="c1"># Calcul du coefficient d&#39;amortissement et pulsation naturelle</span>
 <span class="n">wn</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">poles</span> <span class="o">=</span> <span class="n">damp</span><span class="p">(</span><span class="n">Gbf_PI</span><span class="p">,</span> <span class="n">doprint</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
 <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;Les paramètres du système du second ordre deviennent: $\omega_n$ =&quot;</span><span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="n">wn</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2"> rad/s et&quot;</span><span class="sa">r</span><span class="s2">&quot; $\zeta$ &quot;</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">z</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">))</span>

 <span class="c1"># Calcul de l&#39;erreur statique</span>
 <span class="n">ep</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">info</span><span class="o">.</span><span class="n">DCGain</span><span class="p">)</span><span class="o">*</span><span class="mi">100</span>
 <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;L&#39;erreur statique est de $\varepsilon_0=\frac</span><span class="si">{1}</span><span class="s2">{1+K}$ = &quot;</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">ep</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">% (r=0 mais N=1 BO grâce au correcteur I)&quot;</span><span class="p">))</span>

 <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;Le dépassement est de: d = &quot;</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">info</span><span class="o">.</span><span class="n">Overshoot</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">%&quot;</span><span class="sa">r</span><span class="s2">&quot; (= $100*e^{{\frac{-\pi*0.4}{\sqrt{1-0.4^2}}}}$) en t = &quot;</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">info</span><span class="o">.</span><span class="n">PeakTime</span><span class="o">*</span><span class="mi">10</span><span class="o">**</span><span class="mi">3</span><span class="si">:</span><span class="s2">.0f</span><span class="si">}</span><span class="s2"> ms&quot;</span><span class="sa">r</span><span class="s2">&quot; (= $\frac{\pi}{11.9*\sqrt{1-0.4^2}}$)&quot;</span><span class="p">))</span>

 <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;Le temps de réponse à 5</span><span class="si">% e</span><span class="s2">st de &quot;</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">info</span><span class="o">.</span><span class="n">SettlingTime</span><span class="o">*</span><span class="mi">10</span><span class="o">**</span><span class="mi">3</span><span class="si">:</span><span class="s2">.0f</span><span class="si">}</span><span class="s2"> ms (&quot;</span><span class="sa">r</span><span class="s2">&quot; $\approx\frac</span><span class="si">{8}</span><span class="s2">{\omega_n}$) (&gt;0.1s demandée)&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div><p>Les paramètres du système du second ordre deviennent: <span class="math notranslate nohighlight">\(\omega_n\)</span> =
11.9 rad/s et <span class="math notranslate nohighlight">\(\zeta\)</span> 0.421.</p>
<p>L’erreur statique est de <span class="math notranslate nohighlight">\(\varepsilon_0=\frac{1}{1+K}\)</span> = 0.0% (r=0
mais N=1 BO grâce au correcteur I)</p>
<p>Le dépassement est de: d = 23.3% (=
<span class="math notranslate nohighlight">\(100*e^{{\frac{-\pi*0.4}{\sqrt{1-0.4^2}}}}\)</span>) en t = 291 ms (=
<span class="math notranslate nohighlight">\(\frac{\pi}{11.9*\sqrt{1-0.4^2}}\)</span>)</p>
<p>Le temps de réponse à 5% est de 618 ms (
<span class="math notranslate nohighlight">\(\approx\frac{8}{\omega_n}\)</span>) (&gt;0.1s demandée)</p>
<img alt="../../_images/output_44_4.png" class="align-center" src="../../_images/output_44_4.png" />
</div>
<div class="section" id="c-correcteur-pid">
<h5>c) Correcteur PID<a class="headerlink" href="#c-correcteur-pid" title="Lien permanent vers ce titre">¶</a></h5>
<ul>
<li><p>Constante de temps d’intégration : <span class="math notranslate nohighlight">\(\tau_I = 1 s\)</span> et
<span class="math notranslate nohighlight">\(\tau_d = 0.1 s\)</span> (suppression des pôles dominants)</p>
<p>le système corrigé devient, en BO :</p>
<div class="math notranslate nohighlight">
\[G_{BO}(p)=\frac{10*K_p}{p}\]</div>
<p>,soit en BF:</p>
<div class="math notranslate nohighlight">
\[G_{BF}(p)=\frac{1}{1+\frac{p}{10*K_p}}\]</div>
<p>Soit un système du premier ordre dont le temps de réponse à 5% (=
<span class="math notranslate nohighlight">\(3\tau\)</span>) s’exprime : <span class="math notranslate nohighlight">\(\frac{3}{10*K_P}\)</span></p>
<p>Pour obtenir <span class="math notranslate nohighlight">\(t_{r5\%}=0.1 s\)</span>, il faut : <span class="math notranslate nohighlight">\(K_P = 3\)</span>.</p>
</li>
</ul>
<p>La réponse indicielle sera celle d’un système du premier ordre (erreur
statique nulle et pas de dépassement)</p>
<script type="text/javascript">
    function showhide(element){
        if (!document.getElementById)
            return

        if (element.style.display == "block")
            element.style.display = "none"
        else
            element.style.display = "block"
    };
</script>
<a href="javascript:showhide(document.getElementById('hiddencodeblock69'))">+ show/hide code</a><br /><div id="hiddencodeblock69" style="display: none"><div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span> <span class="n">tI</span> <span class="o">=</span> <span class="mi">1</span>
 <span class="n">tD</span> <span class="o">=</span> <span class="mf">0.1</span>
 <span class="n">Kp</span> <span class="o">=</span> <span class="mi">3</span>
 <span class="n">Corr</span> <span class="o">=</span> <span class="n">Kp</span><span class="o">*</span><span class="n">tf</span><span class="p">([</span><span class="n">tD</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span><span class="o">*</span><span class="n">tf</span><span class="p">([</span><span class="n">tI</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span> <span class="c1"># Correcteur avec Kp = 1</span>
 <span class="n">Gbo</span> <span class="o">=</span> <span class="n">Corr</span><span class="o">*</span><span class="n">G</span>
 <span class="n">Gbf_PID</span> <span class="o">=</span> <span class="n">feedback</span><span class="p">(</span><span class="n">Gbo</span><span class="p">)</span>

 <span class="n">info</span> <span class="o">=</span> <span class="n">rlf</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>

 <span class="n">t</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">1.35</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span> <span class="c1"># Pour bien voir la phase transitoire</span>
 <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="s2">&quot;Step Response&quot;</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
 <span class="n">rlf</span><span class="o">.</span><span class="n">step_</span><span class="p">(</span><span class="n">Gbf</span><span class="p">,</span> <span class="n">T</span><span class="o">=</span><span class="n">t</span><span class="p">,</span> <span class="n">NameOfFigure</span> <span class="o">=</span> <span class="s2">&quot;Step Response&quot;</span><span class="p">,</span> <span class="n">sysName</span> <span class="o">=</span> <span class="s1">&#39;Gbf&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">)</span>
 <span class="n">rlf</span><span class="o">.</span><span class="n">step_</span><span class="p">(</span><span class="n">Gbf_P</span><span class="p">,</span> <span class="n">T</span><span class="o">=</span><span class="n">t</span><span class="p">,</span> <span class="n">NameOfFigure</span> <span class="o">=</span> <span class="s2">&quot;Step Response&quot;</span><span class="p">,</span>  <span class="n">sysName</span> <span class="o">=</span> <span class="s1">&#39;Kp*Gbf&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-.&#39;</span><span class="p">)</span>
 <span class="n">rlf</span><span class="o">.</span><span class="n">step_</span><span class="p">(</span><span class="n">Gbf_PI</span><span class="p">,</span> <span class="n">T</span><span class="o">=</span><span class="n">t</span><span class="p">,</span> <span class="n">NameOfFigure</span> <span class="o">=</span> <span class="s2">&quot;Step Response&quot;</span><span class="p">,</span>  <span class="n">sysName</span> <span class="o">=</span> <span class="s1">&#39;C_PI*Gbf&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">)</span>
 <span class="n">rlf</span><span class="o">.</span><span class="n">stepWithInfo</span><span class="p">(</span><span class="n">Gbf_PID</span><span class="p">,</span> <span class="n">info</span><span class="p">,</span> <span class="n">T</span><span class="o">=</span><span class="n">t</span><span class="p">,</span> <span class="n">NameOfFigure</span> <span class="o">=</span> <span class="s2">&quot;Step Response&quot;</span><span class="p">,</span>  <span class="n">sysName</span> <span class="o">=</span> <span class="s1">&#39;C_PID*Gbf&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;:&#39;</span><span class="p">)</span>

 <span class="c1"># Calcul du coefficient d&#39;amortissement et pulsation naturelle</span>
 <span class="n">wn</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">poles</span> <span class="o">=</span> <span class="n">damp</span><span class="p">(</span><span class="n">Gbf_PID</span><span class="p">,</span> <span class="n">doprint</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
 <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;Les paramètres du système du second ordre deviennent: $\omega_n$ =&quot;</span><span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="n">wn</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2"> rad/s et&quot;</span><span class="sa">r</span><span class="s2">&quot; $\zeta$ &quot;</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">z</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">))</span>

 <span class="c1"># Calcul de l&#39;erreur statique</span>
 <span class="n">ep</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">info</span><span class="o">.</span><span class="n">DCGain</span><span class="p">)</span><span class="o">*</span><span class="mi">100</span>
 <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;L&#39;erreur statique est de $\varepsilon_0=\frac</span><span class="si">{1}</span><span class="s2">{1+K}$ = &quot;</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">ep</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">% (r=0 mais N=1 BO grâce au correcteur I)&quot;</span><span class="p">))</span>

 <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;Le dépassement est de: d = &quot;</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">info</span><span class="o">.</span><span class="n">Overshoot</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">%&quot;</span><span class="sa">r</span><span class="s2">&quot; (= $100*e^{{\frac{-\pi*1}{\sqrt{1-1^2}}}}$) en t = &quot;</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">info</span><span class="o">.</span><span class="n">PeakTime</span><span class="o">*</span><span class="mi">10</span><span class="o">**</span><span class="mi">3</span><span class="si">:</span><span class="s2">.0f</span><span class="si">}</span><span class="s2"> ms&quot;</span><span class="sa">r</span><span class="s2">&quot; (= $\frac{\pi}{30*\sqrt{1-1^2}}$)&quot;</span><span class="p">))</span>

 <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;Le temps de réponse à 5</span><span class="si">% e</span><span class="s2">st de &quot;</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">info</span><span class="o">.</span><span class="n">SettlingTime</span><span class="o">*</span><span class="mi">10</span><span class="o">**</span><span class="mi">3</span><span class="si">:</span><span class="s2">.0f</span><span class="si">}</span><span class="s2"> ms (= 0.1s demandée =&gt; OK)&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div><p>Les paramètres du système du second ordre deviennent: <span class="math notranslate nohighlight">\(\omega_n\)</span> =
30.0 rad/s et <span class="math notranslate nohighlight">\(\zeta\)</span> 1.000.</p>
<p>L’erreur statique est de <span class="math notranslate nohighlight">\(\varepsilon_0=\frac{1}{1+K}\)</span> = 0.0% (r=0
mais N=1 BO grâce au correcteur I)</p>
<p>Le dépassement est de: d = 0.0% (=
<span class="math notranslate nohighlight">\(100*e^{{\frac{-\pi*1}{\sqrt{1-1^2}}}}\)</span>) en t = 1350 ms (=
<span class="math notranslate nohighlight">\(\frac{\pi}{30*\sqrt{1-1^2}}\)</span>)</p>
<p>Le temps de réponse à 5% est de 100 ms (= 0.1s demandée =&gt; OK)</p>
<img alt="../../_images/output_47_4.png" class="align-center" src="../../_images/output_47_4.png" />
<script type="text/javascript">
    function showhide(element){
        if (!document.getElementById)
            return

        if (element.style.display == "block")
            element.style.display = "none"
        else
            element.style.display = "block"
    };
</script>
<a href="javascript:showhide(document.getElementById('hiddencodeblock70'))">+ show/hide code</a><br /><div id="hiddencodeblock70" style="display: none"><div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span> <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="s2">&quot;Nichols&quot;</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
 <span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
 <span class="n">rlf</span><span class="o">.</span><span class="n">nichols</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Gbo(p)&#39;</span><span class="p">],</span> <span class="n">NameOfFigure</span> <span class="o">=</span> <span class="s2">&quot;Nichols&quot;</span><span class="p">)</span>
 <span class="n">rlf</span><span class="o">.</span><span class="n">nichols</span><span class="p">(</span><span class="n">Gbo</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;C_PID(p)*Gbo(p)&#39;</span><span class="p">],</span> <span class="n">NameOfFigure</span> <span class="o">=</span> <span class="s2">&quot;Nichols&quot;</span><span class="p">,</span> <span class="n">linestyle</span> <span class="o">=</span> <span class="s1">&#39;-.&#39;</span><span class="p">)</span>
 <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="o">-</span><span class="mi">180</span><span class="o">+</span><span class="n">MP</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="s1">&#39;k+&#39;</span><span class="p">);</span> <span class="c1"># ; pour supprimer les lignes de sortie matplotlib</span>
</pre></div>
</div>
</div><img alt="../../_images/output_48_0.png" class="align-center" src="../../_images/output_48_0.png" />
</div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="../../DocumentationFct.html" class="btn btn-neutral float-right" title="Documentation de la librairie ReguLabFct" accesskey="n" rel="next">Suivant <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="../7.4/7.4.html" class="btn btn-neutral float-left" title="7.4.6 Exercices" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Précédent</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Alban Van Laethem.

    </p>
  </div>
    
    
    
    Compilé avec <a href="https://www.sphinx-doc.org/">Sphinx</a> en utilisant un
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">thème</a>
    
    fourni par <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>